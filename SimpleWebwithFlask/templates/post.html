{% extends 'base.html' %}
{%block title%} {{post.username}}{%endblock%}
{%block content%}
<div class="card mb-4">
    <div class="card-body">
        <h2 class="card-title">{{ post.title }}</h2>
        <p class="text-muted">
            Posted by {{ post.author.username }} in {{ post.category.name }}
            on {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}
        </p>
        <p class="card-text">{{ post.description }}</p>
        
        <audio id="audio-player" class="w-100 mb-3" controls>
            <source src="{{ url_for('static', filename='uploads/' + post.file_path) }}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <i class="fas fa-play"></i> {{ post.play_count }} plays
            </div>
            <div>
                <i class="fas fa-star"></i> {{ "%.1f"|format(post.average_rating) }}/5
                ({{ post.ratings|length }} ratings)
            </div>
        </div>
    </div>
</div>
{%endblock%}